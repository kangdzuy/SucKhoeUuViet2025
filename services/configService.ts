
import { SystemConfig, Duration, CoPay, Geography, RateTable } from '../types';

const STORAGE_KEY = 'PAC_CALC_CONFIG_V5'; 

// --- BẢNG 1: TỶ LỆ PHÍ CƠ BẢN (BASE RATES) ---
//Giá trị -1 hoặc 0: Nghĩa là không áp dụng hoặc chưa có phí.
const DEFAULT_BASE_RATES: RateTable = {
    // --- BENEFIT A - VIETNAM ---
    A1_VN: [0.17, 0.11, 0.12, 0.13, 0.17], 
    A2_VN: [0.17, 0.11, 0.12, 0.13, 0.17],

    A_ALLOWANCE_3_5_VN: [0.80, 0.49, 0.55, 0.61, 0.80],
    A_ALLOWANCE_6_9_VN: [0.68, 0.42, 0.47, 0.52, 0.68], //0,68	0,42	0,47	0,52	0,68
    A_ALLOWANCE_10_12_VN: [0.62, 0.38, 0.43, 0.47, 0.62], //0,62	0,38	0,43	0,47	0,62
    
    A_MEDICAL_LOW_VN: [1.56, 0.96, 1.08, 1.20, 1.56], // 1,56	0,96	1,08	1,20	1,56
    A_MEDICAL_MID1_VN: [1.22, 0.75, 0.84, 0.94, 1.22], //1,22	0,75	0,84	0,94	1,22
    A_MEDICAL_MID2_VN: [1.01, 0.62, 0.70, 0.78, 1.01], //1,01	0,62	0,70	0,78	1,01
    A_MEDICAL_HIGH_VN: [0.86, 0.53, 0.60, 0.66, 0.86], //0,86	0,53	0,60	0,66	0,86

    // --- BENEFIT A - ASIA ---
    A1_ASIA: [0.22, 0.13, 0.15, 0.17, 0.22], //0,22	0,13	0,15	0,17	0,22
    A2_ASIA: [0.22, 0.13, 0.15, 0.17, 0.22], //0,22	0,13	0,15	0,17	0,22

    A_ALLOWANCE_3_5_ASIA: [1.00, 0.61, 0.69, 0.77, 1.00], //1,00	0,61	0,69	0,77	1,00
    A_ALLOWANCE_6_9_ASIA: [0.85, 0.52, 0.59, 0.66, 0.85], //0,85	0,52	0,59	0,66	0,85
    A_ALLOWANCE_10_12_ASIA: [0.77, 0.47, 0.53, 0.59, 0.77], //0,77	0,47	0,53	0,59	0,77
    
    A_MEDICAL_LOW_ASIA: [1.96, 1.20, 1.35, 1.50, 1.96], //1,96	1,20	1,35	1,50	1,96
    A_MEDICAL_MID1_ASIA: [1.52, 0.94, 1.05, 1.17, 1.52], //1,52	0,94	1,05	1,17	1,52
    A_MEDICAL_MID2_ASIA: [1.26, 0.78, 0.87, 0.97, 1.26],//1,26	0,78	0,87	0,97	1,26
    A_MEDICAL_HIGH_ASIA: [1.08, 0.66, 0.75, 0.83, 1.08],//1,08	0,66	0,75	0,83	1,08

    // --- BENEFIT A - GLOBAL ---
    A1_GLOBAL: [0.24, 0.15, 0.17, 0.19, 0.24], //0,24	0,15	0,17	0,19	0,24
    A2_GLOBAL: [0.24, 0.15, 0.17, 0.19, 0.24],

    A_ALLOWANCE_3_5_GLOBAL: [1.12, 0.69, 0.77, 0.86, 1.12], //1,12	0,69	0,77	0,86	1,12
    A_ALLOWANCE_6_9_GLOBAL: [0.95, 0.59, 0.66, 0.73, 0.95], //0,95	0,59	0,66	0,73	0,95
    A_ALLOWANCE_10_12_GLOBAL: [0.86, 0.53, 0.60, 0.66, 0.86],//0,86	0,53	0,60	0,66	0,86
    
    A_MEDICAL_LOW_GLOBAL: [2.19, 1.35, 1.52, 1.68, 2.19], //2,19	1,35	1,52	1,68	2,19
    A_MEDICAL_MID1_GLOBAL: [1.70, 1.05, 1.18, 1.31, 1.70], //1,70	1,05	1,18	1,31	1,70
    A_MEDICAL_MID2_GLOBAL: [1.41, 0.87, 0.98, 1.09, 1.41], //1,41	0,87	0,98	1,09	1,41
    A_MEDICAL_HIGH_GLOBAL: [1.21, 0.74, 0.84, 0.93, 1.21], //1,21	0,74	0,84	0,93	1,21

    // --- BENEFIT B ---
    B_VN: [0.34, 0.21, 0.24, 0.27, 0.34], //0,34	0,21	0,24	0,27	0,34
    B_ASIA: [0.43, 0.27, 0.30, 0.33, 0.43], //0,43	0,27	0,30	0,33	0,43
    B_GLOBAL: [0.48, 0.30, 0.33, 0.37, 0.48], //0,48	0,30	0,33	0,37	0,48

    // --- BENEFIT C ---
 
    C_VN_BAND1: [3.50, 3.23, 2.15, 2.69, 3.50],//3,50	3,23	2,15	2,69	3,50
    C_VN_BAND2: [3.24, 2.99, 1.99, 2.49, 3.24],//3,24	2,99	1,99	2,49	3,24
    C_VN_BAND3: [2.85, 2.63, 1.76, 2.19, 2.85],//2,85	2,63	1,76	2,19	2,85
    C_VN_BAND4: [2.46, 2.27, 1.51, 1.89, 2.46],//2,46	2,27	1,51	1,89	2,46
  
    C_ASIA_BAND1: [4.38, 4.04, 2.69, 3.37, 4.38],//4,38	4,04	2,69	3,37	4,38
    C_ASIA_BAND2: [4.05, 3.74, 2.49, 3.12, 4.05],//4,05	3,74	2,49	3,12	4,05
    C_ASIA_BAND3: [3.57, 3.29, 2.19, 2.74, 3.57],//3,57	3,29	2,19	2,74	3,57
    C_ASIA_BAND4: [3.07, 2.84, 1.89, 2.36, 3.07],//3,07	2,84	1,89	2,36	3,07
 
    C_GLOBAL_BAND1: [4.90, 4.52, 3.02, 3.77, 4.90], //4,90	4,52	3,02	3,77	4,90
    C_GLOBAL_BAND2: [4.54, 4.19, 2.79, 3.49, 4.54], //4,54	4,19	2,79	3,49	4,54
    C_GLOBAL_BAND3: [3.99, 3.69, 2.46, 3.07, 3.99], //3,99	3,69	2,46	3,07	3,99
    C_GLOBAL_BAND4: [3.44, 3.18, 2.12, 2.65, 3.44], //3,44	3,18	2,12	2,65	3,44

    // --- BENEFIT D ---
 
    D_VN_BAND1: [-1, -1, 0.84, 0.67, -1],
    D_VN_BAND2: [-1, -1, 0.54, 0.43, -1],
    D_VN_BAND3: [-1, -1, 0.30, 0.24, -1],
    D_VN_BAND4: [0, 0, 0.16, 0.13, -1],
  
    D_ASIA_BAND1: [-1, -1, 1.05, 0.84, -1],
    D_ASIA_BAND2: [-1, -1, 0.67, 0.54, -1],
    D_ASIA_BAND3: [-1, -1, 0.37, 0.30,-1],
    D_ASIA_BAND4: [-1, -1, 0.20, 0.16, -1],
   
    D_GLOBAL_BAND1: [-1, -1, 1.18, 0.94, -1],
    D_GLOBAL_BAND2: [-1, -1, 0.75, 0.60, -1],
    D_GLOBAL_BAND3: [-1, -1, 0.41, 0.33, -1],
    D_GLOBAL_BAND4: [-1, -1, 0.22, 0.18, -1],

    // --- BENEFIT E ---
 
    E_VN_BAND1: [31.68, 19.50, 29.25, 24.37, 31.68],//31,68	19,50	29,25	24,37	31,68
    E_VN_BAND2: [26.03, 16.02, 24.03, 20.02, 26.03],//26,03	16,02	24,03	20,02	26,03
    E_VN_BAND3: [25.49, 15.69, 23.53, 19.61, 25.49],//25,49	15,69	23,53	19,61	25,49
   
    E_ASIA_BAND1: [39.60, 24.37, 36.56, 30.46, 39.60],//39,60	24,37	36,56	30,46	39,60
    E_ASIA_BAND2: [32.54, 20.02, 30.04, 25.03, 32.54],//32,54	20,02	30,04	25,03	32,54
    E_ASIA_BAND3: [31.86, 19.61, 29.41, 24.51, 31.86],//31,86	19,61	29,41	24,51	31,86
   
    E_GLOBAL_BAND1: [44.36, 27.30, 40.94, 34.12, 44.36],//44,36	27,30	40,94	34,12	44,36
    E_GLOBAL_BAND2: [36.44, 22.43, 33.64, 28.03, 36.44],//36,44	22,43	33,64	28,03	36,44
    E_GLOBAL_BAND3: [35.68, 21.96, 32.94, 27.45, 35.68],//35,68	21,96	32,94	27,45	35,68

    // --- BENEFIT F ---
    F_VN_BAND1: [58.48, 35.99, 44.98, 53.98, 58.48],
    F_VN_BAND2: [39.06, 24.03, 30.04, 36.05, 39.06],
    F_VN_BAND3: [35.52, 21.86, 27.32, 32.79, 35.52],

    F_ASIA_BAND1: [73.09, 44.98, 56.23, 67.47, 73.09],
    F_ASIA_BAND2: [48.82, 30.04, 37.55, 45.07, 48.82],
    F_ASIA_BAND3: [44.40, 27.32, 34.15, 40.98, 44.40],
    
    F_GLOBAL_BAND1: [81.87, 50.38, 62.97, 75.57, 81.87],
    F_GLOBAL_BAND2: [54.68, 33.65, 42.06, 50.47, 54.68],
    F_GLOBAL_BAND3: [49.73, 30.60, 38.25, 45.90, 49.73],
      /*


     */  
    // --- BENEFIT G ---
    G_MEDICAL_VN: [-1, -1,-1 , -1, -1],
    G_MEDICAL_ASIA: [0.12, 0.12,0.12 , 0.12, 0.12],
    G_MEDICAL_GLOBAL: [0.12, 0.12,0.12 , 0.12, 0.12],
    
    G_TRANSPORT_VN: [-1, -1,-1 , -1, -1],
    G_TRANSPORT_ASIA: [0.57, 0.57, 0.57, 0.57, 0.57],
    G_TRANSPORT_GLOBAL: [-1, -1,-1 , -1, -1],

    // --- BENEFIT H ---
    H_HOSPITALIZATION_VN: [0.68, 0.68, 0.68, 0.68, 0.68],
    H_HOSPITALIZATION_ASIA: [0.68, 0.68, 0.68, 0.68, 0.68],
    H_HOSPITALIZATION_GLOBAL: [0.68, 0.68, 0.68, 0.68, 0.68],
    
    H_SURGICAL_VN: [0.68, 0.68, 0.68, 0.68, 0.68],
    H_SURGICAL_ASIA: [0.68, 0.68, 0.68, 0.68, 0.68],
    H_SURGICAL_GLOBAL: [0.68, 0.68, 0.68, 0.68, 0.68],
    // --- BENEFIT I ---

    I_MAIN_VN: [0.0020, 0.0012, 0.0014, 0.0015, 0.0020],
    I_ALLOWANCE_VN: [0.0050, 0.0031, 0.0035, 0.0038, 0.0050],
    I_MEDICAL_VN: [0.0499, 0.0307, 0.0345, 0.0384, 0.0499],
    
    I_MAIN_ASIA: [0.0025, 0.0015, 0.0017, 0.0019, 0.0025],
    I_ALLOWANCE_ASIA: [0.0062, 0.0038, 0.0043, 0.0048, 0.0062],
    I_MEDICAL_ASIA: [0.0624, 0.0384, 0.0432, 0.0480, 0.0624],

    I_MAIN_GLOBAL: [0.0028, 0.0017, 0.0019, 0.0021, 0.0028],
    I_ALLOWANCE_GLOBAL: [0.0070, 0.0043, 0.0048, 0.0054, 0.0070],
    I_MEDICAL_GLOBAL: [0.0698, 0.0430, 0.0483, 0.0537, 0.0698],

    
};

// --- BẢNG 2: TỶ LỆ PHÍ THUẦN (MIN RATES - NET PREMIUM) ---
// Mặc định hiện tại đang tính bằng 70% của Phí cơ bản.
// Bạn có thể chỉnh sửa trực tiếp các con số dưới đây.
const DEFAULT_MIN_RATES: RateTable = {
    // --- BENEFIT A - VIETNAM (NET) ---
    A1_VN: [0.0750, 0.0462, 0.0519, 0.0577, 0.0750], //0,0750	0,0462	0,0519	0,0577	0,0750
    A2_VN: [0.0750, 0.0462, 0.0519, 0.0577, 0.0750],

    A_ALLOWANCE_3_5_VN: [0.3432, 0.2112, 0.2376, 0.2640, 0.3432],
    A_ALLOWANCE_6_9_VN: [0.2932, 0.1804, 0.20295, 0.2255, 0.29315],
    A_ALLOWANCE_10_12_VN: [0.2646, 0.1628, 0.1832, 0.2035, 0.2646],
   
    A_MEDICAL_LOW_VN: [0.6728, 0.4140, 0.756, 0.84, 1.092],
    A_MEDICAL_MID1_VN: [0.5233, 0.3220, 0.3623, 0.4025, 0.5233],
    A_MEDICAL_MID2_VN: [0.4339, 0.2670, 0.3004, 0.3338, 0.4339],
    A_MEDICAL_HIGH_VN: [0.3705, 0.2280, 0.2565, 0.2850, 0.3705],

    // --- BENEFIT A - ASIA (NET) ---
 
    A1_ASIA: [0.0938, 0.0577, 0.0649, 0.0721, 0.0938],
    A2_ASIA: [0.0938, 0.0577, 0.0649, 0.0721, 0.0938],
    /**
  0,4290	0,2640	0,2970	0,3300	0,4290
0,3664	0,2255	0,2537	0,2819	0,3664
0,3307	0,2035	0,2289	0,2544	0,3307

 */
    A_ALLOWANCE_3_5_ASIA: [0.4290, 0.2640, 0.2970, 0.3300, 0.4290],
    A_ALLOWANCE_6_9_ASIA: [0.3664, 0.2255, 0.2537, 0.2819, 0.3664],
    A_ALLOWANCE_10_12_ASIA: [0.3307, 0.2035, 0.2289, 0.2544, 0.3307],
     /**
0,8409	0,5175	0,5822	0,6469	0,8409
0,6541	0,4025	0,4528	0,5031	0,6541
0,5424	0,3338	0,3755	0,4173	0,5424
0,4631	0,2850	0,3206	0,3563	0,4631


 */   
    A_MEDICAL_LOW_ASIA: [0.8409, 0.5175, 0.5822, 0.6469, 0.8409],
    A_MEDICAL_MID1_ASIA: [0.6541, 0.4025, 0.4528, 0.5031, 0.6541],
    A_MEDICAL_MID2_ASIA: [0.5424, 0.3338, 0.3755, 0.4173, 0.5424],
    A_MEDICAL_HIGH_ASIA: [0.4631, 0.2850, 0.3206, 0.3563, 0.4631],

    // --- BENEFIT A - GLOBAL (NET) ---
     /**
0,1050	0,0646	0,0727	0,0808	0,1050

 */   
    A1_GLOBAL: [0.1050, 0.0646, 0.0727, 0.0808, 0.1050],
    A2_GLOBAL: [0.1050, 0.0646, 0.0727, 0.0808, 0.1050],
     /**
0,4805	0,2957	0,3326	0,3696	0,4805
0,4104	0,2526	0,2841	0,3157	0,4104
0,3704	0,2279	0,2564	0,2849	0,3704


 */  
    A_ALLOWANCE_3_5_GLOBAL: [0.4805, 0.2957, 0.3326, 0.3696, 0.4805],
    A_ALLOWANCE_6_9_GLOBAL: [0.4104, 0.2526, 0.2841, 0.3157, 0.4104],
    A_ALLOWANCE_10_12_GLOBAL: [0.3704, 0.2279, 0.2564, 0.2849, 0.3704],
     /**
0,9419	0,5796	0,6521	0,7245	0,9419
0,7326	0,4508	0,5072	0,5635	0,7326
0,6075	0,3739	0,4206	0,4673	0,6075
0,5187	0,3192	0,3591	0,3990	0,5187

 */      
    A_MEDICAL_LOW_GLOBAL: [0.9419, 0.5796, 0.6521, 0.7245, 0.9419],
    A_MEDICAL_MID1_GLOBAL: [0.7326, 0.4508, 0.5072, 0.5635, 0.7326],
    A_MEDICAL_MID2_GLOBAL: [0.6075, 0.3739, 0.4206, 0.4673, 0.6075],
    A_MEDICAL_HIGH_GLOBAL: [0.5187, 0.3192, 0.3591, 0.3990, 0.5187],
/**
0,1482	0,0912	0,1026	0,1140	0,1482
0,1853	0,1140	0,1283	0,1425	0,1853
0,2075	0,1277	0,1436	0,1596	0,2075
 */    
    // --- BENEFIT B (NET) ---
    B_VN: [0.1482, 0.0912, 0.1026, 0.1140, 0.1482],
    B_ASIA: [0.1853, 0.1140, 0.1283, 0.1425, 0.1853],
    B_GLOBAL: [0.2075, 0.1277, 0.1436, 0.1596, 0.2075],
/**
1,5055	1,3897	0,9265	1,1581	1,5055
1,3933	1,2862	0,8574	1,0718	1,3933
1,2267	1,1323	0,7549	0,9436	1,2267
1,0566	0,9754	0,6502	0,8128	1,0566

 */  
    // --- BENEFIT C (NET) ---
    C_VN_BAND1: [1.5055, 1.3897, 0.9265, 1.1581, 1.5055],
    C_VN_BAND2: [1.3933, 1.2862, 0.8574, 1.0718, 1.3933],
    C_VN_BAND3: [1.2267, 1.1323, 0.7549, 0.9436, 1.2267],
    C_VN_BAND4: [1.0566, 0.9754, 0.6502, 0.8128, 1.0566],
  /**
1,8819	1,7372	1,1581	1,4476	1,8819
1,7417	1,6077	1,0718	1,3398	1,7417
1,5334	1,4154	0,9436	1,1795	1,5334
1,3208	1,2192	0,8128	1,0160	1,3208

 */   
    C_ASIA_BAND1: [1.8819, 1.7372, 1.1581, 1.4476, 1.8819],
    C_ASIA_BAND2: [1.7417, 1.6077, 1.0718, 1.3398, 1.7417],
    C_ASIA_BAND3: [1.5334, 1.4154, 0.9436, 1.1795, 1.5334],
    C_ASIA_BAND4: [1.3208, 1.2192, 0.8128, 1.0160, 1.3208],
   /**
2,1077	1,9456	1,2971	1,6213	2,1077
1,9507	1,8006	1,2004	1,5005	1,9507
1,7174	1,5852	1,0568	1,3210	1,7174
1,4793	1,3655	0,9103	1,1379	1,4793


 */    
    C_GLOBAL_BAND1: [1.1077, 1.9456, 1.2971, 1.6213, 2.1077],
    C_GLOBAL_BAND2: [1.9507, 1.8006, 1.2004, 1.5005, 1.9507],
    C_GLOBAL_BAND3: [1.7174,1.5852,1.0568,1.3210,1.7174],
    C_GLOBAL_BAND4: [1.4793,1.3655,0.9103,1.1379,1.4793],

    // --- BENEFIT D (NET) ---
/*
0,3622	0,2898
0,2303	0,1842
0,1271	0,1017
0,0674	0,0539

 */  

    D_VN_BAND1: [-1, -1, 0.3622,0.2898, -1],
    D_VN_BAND2: [-1, -1, 0.2303,0.1842, -1],
    D_VN_BAND3: [-1, -1, 0.1271,0.1017, -1],
    D_VN_BAND4: [-1, -1, 0.0674,0.0539, -1],
 /*
0,4528	0,3622
0,2879	0,2303
0,1589	0,1271
0,0843	0,0674

 */  
    D_ASIA_BAND1: [-1, -1, 0.4528,0.3622, -1],
    D_ASIA_BAND2: [-1, -1, 0.2879,0.2303, -1],
    D_ASIA_BAND3: [-1, -1, 0.1589,0.1271, -1],
    D_ASIA_BAND4: [-1, -1, 0.0843,0.0674, -1],
  /*
0,5071	0,4057
0,3224	0,2579
0,1779	0,1424
0,0944	0,0755


 */     
    D_GLOBAL_BAND1: [-1, -1, 0.5071,0.4057, -1],
    D_GLOBAL_BAND2: [-1, -1, 0.3224,0.2579, -1],
    D_GLOBAL_BAND3: [-1, -1, 0.1779,0.1424, -1],
    D_GLOBAL_BAND4: [-1, -1, 0.0944,0.0755, -1],

    // --- BENEFIT E (NET) ---

  /*
13.6236, 8.3838, 12.5756, 10.4797, 13.6236
11.1931, 6.8881, 10.3321, 8.6101, 11.1931
10.9600, 6.7446, 10.1170, 8.4308, 10.9600

 */  
    E_VN_BAND1: [13.6236, 8.3838, 12.5756, 10.4797, 13.6236],
    E_VN_BAND2: [11.1931, 6.8881, 10.3321, 8.6101, 11.1931],
    E_VN_BAND3: [10.9600, 6.7446, 10.1170, 8.4308, 10.9600],
   /*
17.0295, 10.4797, 15.7196, 13.0996, 17.0295
13.9914, 8.6101, 12.9152, 10.7626, 13.9914
13.7001, 8.4308, 12.6462, 10.5385, 13.7001

 */    
    E_ASIA_BAND1: [17.0295, 10.4797, 15.7196, 13.0996, 17.0295],
    E_ASIA_BAND2: [13.9914, 8.6101, 12.9152, 10.7626, 13.9914],
    E_ASIA_BAND3: [13.7001, 8.4308, 12.6462, 10.5385, 13.7001],
   /*
19.0731, 11.7373, 17.6059, 14.6716, 19.0731
15.6704, 9.6433, 14.4650, 12.0541, 15.6704
15.3441, 9.4425, 14.1637, 11.8031, 15.3441

 */     
    E_GLOBAL_BAND1: [19.0731, 11.7373, 17.6059, 14.6716, 19.0731],
    E_GLOBAL_BAND2: [15.6704, 9.6433, 14.4650, 12.0541, 15.6704],
    E_GLOBAL_BAND3: [15.3441, 9.4425, 14.1637, 11.8031, 15.3441],
   /*
25.1446, 15.4736, 19.3420, 23.2104, 25.1446
16.7943, 10.3350, 12.9187, 15.5024, 16.7943
15.2734, 9.3990, 11.7488, 14.0986, 15.2734

 */ 
    // --- BENEFIT F (NET) ---
    F_VN_BAND1: [25.1446, 15.4736, 19.3420, 23.2104, 25.1446],
    F_VN_BAND2: [16.7943, 10.3350, 12.9187, 15.5024, 16.7943],
    F_VN_BAND3: [15.2734, 9.3990, 11.7488, 14.0986, 15.2734],
    /*
31.4308, 19.3420, 24.1775, 29.0130, 31.4308
20.9929, 12.9187, 16.1484, 19.3781, 20.9929
19.0918, 11.7488, 14.6860, 17.6232, 19.0918

 */    
    F_ASIA_BAND1: [31.4308, 19.3420, 24.1775, 29.0130, 31.4308],
    F_ASIA_BAND2: [20.9929, 12.9187, 16.1484, 19.3781, 20.9929],
    F_ASIA_BAND3: [19.0918, 11.7488, 14.6860, 17.6232, 19.0918],

/*
35.2024, 21.6630, 27.0788, 32.4946, 35.2024
23.5120, 14.4689, 18.0862, 21.7034, 23.5120
21.3828, 13.1587, 16.4483, 19.7380, 21.3828

 */    
    F_GLOBAL_BAND1: [35.2024, 21.6630, 27.0788, 32.4946, 35.2024],
    F_GLOBAL_BAND2: [23.5120, 14.4689, 18.0862, 21.7034, 23.5120],
    F_GLOBAL_BAND3: [21.3828, 13.1587, 16.4483, 19.7380, 21.3828],
/*
0.0529
0.2444

 */ 
    // --- BENEFIT G (NET) ---
    G_MEDICAL_VN: [-1, -1, -1, -1, -1],
    G_MEDICAL_ASIA: [0.0529, 0.0529, 0.0529, 0.0529, 0.0529],
    G_MEDICAL_GLOBAL: [-1, -1, -1, -1, -1],
    
    G_TRANSPORT_VN: [-1, -1, -1, -1, -1],
    G_TRANSPORT_ASIA: [0.2444, 0.2444, 0.2444, 0.2444, 0.2444],
    G_TRANSPORT_GLOBAL: [-1, -1, -1, -1, -1],
/*
0.2906

 */ 
    // --- BENEFIT H (NET) ---
    H_HOSPITALIZATION_VN: [0.2906, 0.2906, 0.2906, 0.2906, 0.2906],
    H_HOSPITALIZATION_ASIA: [0.2906, 0.2906, 0.2906, 0.2906, 0.2906],
    H_HOSPITALIZATION_GLOBAL: [0.2906, 0.2906, 0.2906, 0.2906, 0.2906],
 /*
0.2906

 */    
    H_SURGICAL_VN: [0, 0, 0, 0, 0],
    H_SURGICAL_ASIA: [0, 0, 0, 0, 0],
    H_SURGICAL_GLOBAL: [0, 0, 0, 0, 0],
    // --- BENEFIT I (NET) ---
/** 
 * 0.0008, 0.0005, 0.0006, 0.0007, 0.0008
 * 0.0021, 0.0013, 0.0015, 0.0017, 0.0021
 * 0.0215, 0.0132, 0.0149,0.0165,0.0215
 * 
 * 
*/
    I_MAIN_VN: [0.0008, 0.0005, 0.0006, 0.0007, 0.0008],
    I_ALLOWANCE_VN: [0.0021, 0.0013, 0.0015, 0.0017, 0.0021],
    I_MEDICAL_VN: [0.0215, 0.0132, 0.0149,0.0165,0.0215],
/**
 * 0.0011, 0.0007, 0.0007, 0.0008, 0.0011
 * 0.0027, 0.0017, 0.0019, 0.0021, 0.0027
 * 0.0268, 0.0165, 0.0186, 0.0206, 0.0268
 * 
 *  */    
    I_MAIN_ASIA: [0.0011, 0.0007, 0.0007, 0.0008, 0.0011],
    I_ALLOWANCE_ASIA: [0.0027, 0.0017, 0.0019, 0.0021, 0.0027],
    I_MEDICAL_ASIA: [0.0268, 0.0165, 0.0186, 0.0206, 0.0268],
/**
 * 0.0011, 0.0007, 0.0007, 0.0008, 0.0011
 * 0.0027, 0.0017, 0.0019, 0.0021, 0.0027
 * 0.0268, 0.0165, 0.0186, 0.0206, 0.0268
 * 
 *  */ 

 /**
  * 
0.0012, 0.0007, 0.0008, 0.0009, 0.0012
0.0030, 0.0018, 0.0021, 0.0023, 0.0030
0.0698, 0.0430, 0.0483, 0.0537, 0.0698

  */
    I_MAIN_GLOBAL: [0.0012, 0.0007, 0.0008, 0.0009, 0.0012],
    I_ALLOWANCE_GLOBAL: [0.0030, 0.0018, 0.0021, 0.0023, 0.0030],
    I_MEDICAL_GLOBAL: [0.0698, 0.0430, 0.0483, 0.0537, 0.0698],


};

// Default Configuration
export const DEFAULT_CONFIG: SystemConfig = {
  durationFactors: {
    [Duration.DEN_3_THANG]: 0.3,
    [Duration.DEN_6_THANG]: 0.5,
    [Duration.DEN_9_THANG]: 0.75,
    [Duration.TREN_9_THANG]: 1.0,
  },
  copayDiscounts: {
    [CoPay.MUC_0]: 0,
    [CoPay.MUC_10]: 0.10, // Updated to 10%
    [CoPay.MUC_20]: 0.20, // Updated to 20%
    [CoPay.MUC_30]: 0.30, // Updated to 30%
    [CoPay.MUC_40]: 0.40, // Updated to 40%
    [CoPay.MUC_50]: 0.50, // 50%
  },
  geoFactors: {
    [Geography.VIETNAM]: 1,
    [Geography.CHAU_A]: 1,
    [Geography.TOAN_CAU]: 1
  },
  baseRates: DEFAULT_BASE_RATES,
  minRates: DEFAULT_MIN_RATES
};

export const configService = {
  getConfig: (): SystemConfig => {
    try {
      const stored = localStorage.getItem(STORAGE_KEY);
      if (stored) {
        return JSON.parse(stored) as SystemConfig;
      }
    } catch (e) {
      console.error("Failed to load config", e);
    }
    return DEFAULT_CONFIG;
  },

  saveConfig: (config: SystemConfig) => {
    try {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(config));
    } catch (e) {
      console.error("Failed to save config", e);
    }
  },

  resetConfig: () => {
    localStorage.removeItem(STORAGE_KEY);
    return DEFAULT_CONFIG;
  }
};
